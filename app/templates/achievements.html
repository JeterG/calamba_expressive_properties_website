{% extends "base.html" %}

{% block title %}Achievements - Calamba Expressive Properties{% endblock %}

{% block content %}
<section>
    <h1 style="text-align: center;">Our Achievements</h1>
    
    <!-- Bootstrap Carousel -->
    <div id="achievementCarousel" class="carousel slide" data-ride="carousel">
        <div class="carousel-inner">
            {% for image in images %}
            <div class="carousel-item {% if loop.first %}active{% endif %}">
                <img class="d-block carousel-img" src="{{ url_for('static', filename='images/achievements/' ~ image) }}" alt="{{ image }}">
                <div class="carousel-caption d-none d-md-block">
                    <h5>{{ image.split(".png")[0] }}</h5>
                </div>
            </div>
            {% endfor %}
        </div>

        <!-- Carousel controls -->
        <a class="carousel-control-prev" href="#achievementCarousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#achievementCarousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <!-- Thumbnail Gallery Below Carousel -->
    <div class="gallery-container mt-4 text-center">
        <div class="row justify-content-center">
            {% for image in images %}
            <div class="col-4 col-sm-2">
                <img class="img-thumbnail gallery-item" src="{{ url_for('static', filename='images/achievements/' ~ image) }}" alt="{{ image }}" onclick="goToSlide('{{ loop.index0 }}')">
            </div>
            {% endfor %}
        </div>
    </div>

</section>
{% endblock %}

{% block extra_head %}
<style>
    /* Carousel image size control */
    .carousel-img {
        width: 80%; /* Ensure the image fills the carousel width */
        max-width: auto; /* Set maximum width for images */
        height: auto; /* Fixed height for the carousel images */
        object-fit: cover; /* Ensures aspect ratio is maintained and image is cropped to fit */
        margin: auto; /* Center the image */
    }

    /* Adjust gallery item size */
    .gallery-item {
        width: 100px;
        height: 100px;
        object-fit: cover;
    }
</style>
{% endblock %}

{% block extra_scripts %}
<!-- Bootstrap JS and Carousel functionality -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<script>
    // Function to change the carousel slide when clicking on a thumbnail
    function goToSlide(slideIndex) {
        $('#achievementCarousel').carousel(parseInt(slideIndex));
    }
</script>
{% endblock %}
